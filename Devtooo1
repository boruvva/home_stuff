#!/bin/bash

# Create test files
echo "Hello World" > file1.txt
echo "Hello Universe" > file2.txt
echo "Hello World" > file3.txt
echo -n -e '\x00\x01\x02\x03' > file1.bin
echo -n -e '\x04\x05\x06\x07' > file2.bin
echo -n -e '\x00\x01\x02\x03' > file3.bin

# Function to check if a file is a text file
is_text_file() {
    file --mime "$1" | grep -q 'charset=us-ascii\|charset=utf-8'
}

# Run tests
echo "Running tests..."

# Test 1: Identical text files
./compare_files.sh file1.txt file3.txt
# Expected output: "Files are identical"

# Test 2: Different text files
./compare_files.sh file1.txt file2.txt
# Expected output: "Files are different"

# Test 3: Identical binary files
./compare_files.sh file1.bin file3.bin
# Expected output: "Files are identical"

# Test 4: Different binary files
./compare_files.sh file1.bin file2.bin
# Expected output: "Files are different"

# Test 5: Text file vs Binary file
./compare_files.sh file1.txt file1.bin
# Expected output: "Files are different"

# Test 6: At least one file is text
./compare_files.sh file1.txt file2.bin
# Expected output: "Files are different"

echo "Tests completed."
